{% extends "base.html" %}
{% block content %}
<div style="display:flex; justify-content:space-between; align-items:center; margin-bottom: 2rem;">
    <h1 style="margin:0;">My Files</h1>
    <a href="{{ url_for('file_service.upload') }}" class="btn btn-primary">+ Upload New</a>
</div>

{% if files %}
<ul class="file-list">
    {% for file in files %}
    <li class="file-item">
        <div class="file-info">
            <h3>{{ file.original_name }}</h3>
            <p>Uploaded: {{ file.upload_date }}</p>
        </div>
        <div class="file-actions">
            <form action="{{ url_for('share_service.create_share', file_id=file.id) }}" method="POST"
                style="display:flex; gap:0.5rem; align-items:center;">
                <select name="hours"
                    style="padding:0.4rem; border-radius:4px; background:#010409; color:#c9d1d9; border:1px solid var(--border-color);">
                    <option value="1">1 Hour</option>
                    <option value="24" selected>24 Hours</option>
                    <option value="168">7 Days</option>
                </select>
                <label style="color:var(--text-muted); font-size:0.9rem; display:flex; align-items:center; gap:0.2rem;">
                    <input type="checkbox" name="one_time" value="1"> One-time
                </label>
                <button type="submit" class="btn btn-sm btn-primary">Share</button>
            </form>
            <a href="{{ url_for('file_service.download', file_id=file.id) }}" class="btn btn-sm">Download</a>
        </div>
    </li>
    {% endfor %}
</ul>
{% else %}
<div class="card" style="text-align:center; padding: 4rem 2rem;">
    <h3 style="color:var(--text-muted);">No files found</h3>
    <p>You haven't uploaded any files yet.</p>
    <a href="{{ url_for('file_service.upload') }}" class="btn btn-primary">Upload your first file</a>
</div>
{% endif %}
{% endblock %}